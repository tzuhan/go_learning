<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8" /><meta name="renderer" content="webkit" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" /><link rel="shortcut icon" href="/favicon.ico?v=1.0.8" type="image/x-icon" /><link rel="pingback" href="http://man.linuxde.net/xmlrpc.php" /><link type="text/css" media="all" href="http://man.linuxde.net/wp-content/cache/autoptimize/css/autoptimize_3c0e921a5a49bf0b8b5d49b3f5c84432.css" rel="stylesheet" /><title>wget命令_Linux wget 命令用法详解：Linux系统下载文件工具</title><link rel='canonical' href='http://man.linuxde.net/wget' /></head><body><div id="header" class="clearfix"><h2 id="logo" class="left"><a title="Linux命令大全" href="http://man.linuxde.net/">Linux命令大全</a></h2><ul id="menu-main" class="right toggle-target"><li id="menu-item-4" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-4"><a href="http://man.linuxde.net/">首页搜索</a></li><li id="menu-item-2474" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2474"><a href="https://www.linuxprobe.com/">Linux书籍</a></li><li id="menu-item-6" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6"><a href="http://man.linuxde.net/par/2">系统管理</a></li><li id="menu-item-7" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-7"><a href="http://man.linuxde.net/par/5">网络管理</a></li><li id="menu-item-8" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8"><a href="http://man.linuxde.net/par/4">软件·打印·开发·工具</a></li><li id="menu-item-9" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9"><a href="http://man.linuxde.net/par/1">文件和目录管理</a></li><li id="menu-item-10" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-10"><a href="http://man.linuxde.net/par/3">硬件·内核·Shell·监测</a></li></ul> <span id="menu-main-toggle" class="toggle-btn" toggle-target="#menu-main"></span></div><div id="main-single" class="main-layout clearfix"><div class="right arc-wrap"><div id="position-wrap" class="clearfix"><div class="position left">当前位置：<a href="http://man.linuxde.net">首页</a> &raquo; <a href="http://man.linuxde.net/par/5" rel="category tag">网络管理</a> &raquo; wget</div></div><div id="title" class="clearfix"><h1 class="left">wget命令</h1><div class="right"> <a href="http://man.linuxde.net/sub/%e7%bd%91%e7%bb%9c%e5%ba%94%e7%94%a8" rel="tag">网络应用</a></div></div><div id="ad-arc-top" class="ad"></div><div id="arc-body"><p> <strong>wget命令</strong>用来从指定的URL下载文件。wget非常稳定，它在带宽很窄的情况下和不稳定网络中有很强的适应性，如果是由于网络的原因下载失败，wget会不断的尝试，直到整个文件下载完毕。如果是服务器打断下载过程，它会再次联到服务器上从停止的地方继续下载。这对从那些限定了链接时间的服务器上下载大文件非常有用。</p><h3> 语法<br /></h3><pre>
wget(选项)(参数)</pre><h3> 选项<br /></h3><pre>
-a&lt;日志文件&gt;：在指定的日志文件中记录资料的执行过程；
-A&lt;后缀名&gt;：指定要下载文件的后缀名，多个后缀名之间使用逗号进行分隔；
-b：进行后台的方式运行wget；
-B&lt;连接地址&gt;：设置参考的连接地址的基地地址；
-c：继续执行上次终端的任务；
-C&lt;标志&gt;：设置服务器数据块功能标志on为激活，off为关闭，默认值为on；
-d：调试模式运行指令；
-D&lt;域名列表&gt;：设置顺着的域名列表，域名之间用&ldquo;，&rdquo;分隔；
-e&lt;指令&gt;：作为文件&ldquo;.wgetrc&rdquo;中的一部分执行指定的指令；
-h：显示指令帮助信息；
-i&lt;文件&gt;：从指定文件获取要下载的URL地址；
-l&lt;目录列表&gt;：设置顺着的目录列表，多个目录用&ldquo;，&rdquo;分隔；
-L：仅顺着关联的连接；
-r：递归下载方式；
-<span class='wp_keywordlink'><a href="http://man.linuxde.net/nc_netcat" title="nc命令" target="_blank">nc</a></span>：文件存在时，下载文件不覆盖原有文件；
-nv：下载时只显示更新和出错信息，不显示指令的详细执行过程；
-q：不显示指令执行过程；
-nh：不查询主机名称；
-v：显示详细执行过程；
-V：显示版本信息；
--passive-<span class='wp_keywordlink'><a href="http://man.linuxde.net/ftp" title="ftp命令" target="_blank">ftp</a></span>：使用被动模式PASV连接FTP服务器；
--follow-ftp：从HTML文件中下载FTP连接文件。</pre><h3> 参数<br /></h3><p> URL：下载指定的URL地址。</p><h3> 实例<br /></h3><p> <strong>使用wget下载单个文件</strong></p><pre>
wget http://www.linuxde.net/testfile.<span class='wp_keywordlink'><a href="http://man.linuxde.net/zip" title="zip命令" target="_blank">zip</a></span></pre><p> 以下的例子是从网络下载一个文件并保存在当前目录，在下载的过程中会显示进度条，包含（下载完成百分比，已经下载的字节，当前下载速度，剩余下载时间）。</p><p> <strong>下载并以不同的文件名保存</strong></p><pre>
wget -O wordpress.zip http://www.linuxde.net/download.aspx?<span class='wp_keywordlink'><a href="http://man.linuxde.net/id" title="id命令" target="_blank">id</a></span>=1080</pre><p> wget默认会以最后一个符合<code>/</code>的后面的字符来命令，对于动态链接的下载通常文件名会不正确。</p><p> <span style="color:#FF0000;">错误：</span>下面的例子会下载一个文件并以名称<code>download.aspx?id=1080</code>保存:</p><pre>
wget http://www.linuxde.net/download?id=1</pre><p> 即使下载的文件是zip格式，它仍然以<code>download.<span class='wp_keywordlink'><a href="http://man.linuxde.net/php" title="php命令" target="_blank">php</a></span>?id=1080</code>命令。</p><p> <span style="color:#008000;">正确：</span>为了解决这个问题，我们可以使用参数<code>-O</code>来指定一个文件名：</p><pre>
wget -O wordpress.zip http://www.linuxde.net/download.aspx?id=1080</pre><p> <strong>wget限速下载</strong></p><pre>
wget --limit-rate=300k http://www.linuxde.net/testfile.zip</pre><p> 当你执行wget的时候，它默认会占用全部可能的宽带下载。但是当你准备下载一个大文件，而你还需要下载其它文件时就有必要限速了。</p><p> <strong>使用wget断点续传</strong></p><pre>
wget -c http://www.linuxde.net/testfile.zip</pre><p> 使用<code>wget&nbsp;-c</code>重新启动下载中断的文件，对于我们下载大文件时突然由于网络等原因中断非常有帮助，我们可以继续接着下载而不是重新下载一个文件。需要继续中断的下载时可以使用<code>-c</code>参数。</p><p> <strong>使用wget后台下载</strong></p><pre>
wget -b http://www.linuxde.net/testfile.zip

Continuing in background, pid 1840.
Output will be written to `wget-log&#39;.</pre><p> 对于下载非常大的文件的时候，我们可以使用参数<code>-b</code>进行后台下载，你可以使用以下命令来察看下载进度：</p><pre>
<span class='wp_keywordlink'><a href="http://man.linuxde.net/tail" title="tail命令" target="_blank">tail</a></span> -f wget-log</pre><p> <strong>伪装代理名称下载</strong></p><pre>
wget --user-agent=&quot;Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/534.16 (KHTML, like Gecko) Chrome/10.0.648.204 Safari/534.16&quot; http://www.linuxde.net/testfile.zip</pre><p> 有些网站能通过根据判断代理名称不是浏览器而拒绝你的下载请求。不过你可以通过<code>--user-agent</code>参数伪装。</p><p> <strong>测试下载链接</strong></p><p> 当你打算进行定时下载，你应该在预定时间测试下载链接是否有效。我们可以增加<code>--spider</code>参数进行检查。</p><pre>
wget --spider URL</pre><p> 如果下载链接正确，将会显示:</p><pre>
Spider mode enabled. Check if remote <span class='wp_keywordlink'><a href="http://man.linuxde.net/file" title="file命令" target="_blank">file</a></span> exists.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [text/html]
Remote file exists and could contain further links,
but recursion is disabled -- not retrieving.</pre><p> 这保证了下载能在预定的时间进行，但当你给错了一个链接，将会显示如下错误:</p><pre>
wget --spider url
Spider mode enabled. Check if remote file exists.
HTTP request sent, awaiting response... 404 Not Found
Remote file does not exist -- broken link!!!</pre><p> 你可以在以下几种情况下使用<code>--spider</code>参数：</p><ul><li> 定时下载之前进行检查</li><li> 间隔检测网站是否可用</li><li> 检查网站页面的死链接</li></ul><p> <strong>增加重试次数</strong></p><pre>
wget --tries=40 URL</pre><p> 如果网络有问题或下载一个大文件也有可能失败。wget默认重试20次连接下载文件。如果需要，你可以使用<code>--tries</code>增加重试次数。</p><p> <strong>下载多个文件</strong></p><pre>
wget -i filelist.txt</pre><p> 首先，保存一份下载链接文件：</p><pre>
<span class='wp_keywordlink'><a href="http://man.linuxde.net/cat" title="cat命令" target="_blank">cat</a></span> &gt; filelist.txt
url1
url2
url3
url4</pre><p> 接着使用这个文件和参数<code>-i</code>下载。</p><p> <strong>镜像网站</strong></p><pre>
wget --mirror -p --convert-links -P ./LOCAL URL</pre><p> 下载整个网站到本地。</p><ul><li> <code>--miror</code>开户镜像下载。</li><li> <code>-p</code>下载所有为了html页面显示正常的文件。</li><li> <code>--convert-links</code>下载后，转换成本地的链接。</li><li> <code>-P&nbsp;./LOCAL</code>保存所有文件和目录到本地指定目录。</li></ul><p> <strong>过滤指定格式下载</strong></p><pre>
wget --<span class='wp_keywordlink'><a href="http://man.linuxde.net/reject" title="reject命令" target="_blank">reject</a></span>=gif ur</pre><p> 下载一个网站，但你不希望下载图片，可以使用这条命令。</p><p> <strong>把下载信息存入日志文件</strong></p><pre>
wget -o download.log URL</pre><p> 不希望下载信息直接显示在终端而是在一个日志文件，可以使用。</p><p> <strong>限制总下载文件大小</strong></p><pre>
wget -Q5m -i filelist.txt</pre><p> 当你想要下载的文件超过5M而退出下载，你可以使用。注意：这个参数对单个文件下载不起作用，只能递归下载时才有效。</p><p> <strong>下载指定格式文件</strong></p><pre>
wget -r -A.pdf url</pre><p> 可以在以下情况使用该功能：</p><ul><li> 下载一个网站的所有图片。</li><li> 下载一个网站的所有视频。</li><li> 下载一个网站的所有PDF文件。</li></ul><p> <strong>FTP下载</strong></p><pre>
wget ftp-url
wget --ftp-user=USERNAME --ftp-password=PASSWORD url</pre><p> 可以使用wget来完成ftp链接的下载。</p><p> 使用wget匿名ftp下载：</p><pre>
wget ftp-url</pre><p> 使用wget用户名和密码认证的ftp下载：</p><pre>
wget --ftp-user=USERNAME --ftp-password=PASSWORD url</pre></div><div id="ad-arc-bottom"><p><a class="col-link" href="/taobaojiqiao" target="_blank">【站长推荐】淘宝购物省钱小窍门，有些商品优惠力度高达50%，非常夸张！</a></p></div></div><div id="sidebar" class="left"><div class="box"><h3 class="title">相关命令</h3><ul class="body list-col-1 clearfix"><li><a href="http://man.linuxde.net/lftpget" title="lftpget">lftpget</a></li><li><a href="http://man.linuxde.net/curl" title="curl">curl</a></li><li><a href="http://man.linuxde.net/rsh" title="rsh">rsh</a></li><li><a href="http://man.linuxde.net/mail" title="mail">mail</a></li><li><a href="http://man.linuxde.net/lynx" title="lynx">lynx</a></li><li><a href="http://man.linuxde.net/mailstat" title="mailstat">mailstat</a></li><li><a href="http://man.linuxde.net/axel" title="axel">axel</a></li><li><a href="http://man.linuxde.net/lftp" title="lftp">lftp</a></li><li><a href="http://man.linuxde.net/elm" title="elm">elm</a></li><li><a href="http://man.linuxde.net/jwhois" title="jwhois">jwhois</a></li><li><a href="http://man.linuxde.net/telnet" title="telnet">telnet</a></li><li><a href="http://man.linuxde.net/mailq" title="mailq">mailq</a></li><li><a href="http://man.linuxde.net/ipcalc" title="ipcalc">ipcalc</a></li><li><a href="http://man.linuxde.net/elinks" title="elinks">elinks</a></li><li><a href="http://man.linuxde.net/rlogin" title="rlogin">rlogin</a></li><li><a href="http://man.linuxde.net/rexec" title="rexec">rexec</a></li></ul></div><div class="box mobile-hide"><h3 class="title">送福利</h3><ul class="body list-col-1 clearfix"><li><a href="/taobaojiqiao" target="_blank" style="color: #008000;">淘宝购物省钱小窍门，有些商品优惠力度高达50%，非常夸张！</a></li></ul></div><div id="sidebar_search_box" class="box"><form action="http://man.linuxde.net/" method="post"> <input class="search-input " type="text" name="ss" id="ss" value="命令直达(输入完整命令)" onFocus="if (value =='命令直达(输入完整命令)'){value =''}" onBlur="if (value ==''){value='命令直达(输入完整命令)'}" /> <input class="search-submit button mobile-visible" type="submit" value="进入" /></form><form action="http://man.linuxde.net/"> <input class="search-input" type="text" name="s" id="s" value="模糊搜索(输入关键词)" onFocus="if (value =='模糊搜索(输入关键词)'){value =''}" onBlur="if (value ==''){value='模糊搜索(输入关键词)'}" /> <input class="search-submit button mobile-visible" type="submit" value="搜索" /></form></div><div class="box"><h3 class="title"><a href="/download/">Linux下载</a></h3><ul class="body list-col-1 clearfix"><li><a href="/download/Ubuntu">Ubuntu下载</a></li><li><a href="/download/CentOS">CentOS下载</a></li></ul></div></div></div> ﻿<div id="footer-wrap"><div id="btn-backtop" title="返回顶部">返回顶部↑</div><div id="footer"><div class="info box"> <a href="http://man.linuxde.net" title="Linux命令大全">Linux命令大全</a> <span class="split"></span> <a href="http://man.linuxde.net/about_us" title="关于/联系">关于/联系</a> <span class="split"></span> 收藏本站请使用Ctrl+D <span class="split"></span> <a href="http://man.linuxde.net/shell-script" target="_blank">Shell脚本攻略</a> <span class="split"></span> <a href="http://man.linuxde.net/docs/shell_regex.html" target="_blank">Shell正则表达式</a> <span class="split"></span> <a href="http://man.linuxde.net/vip/sitemap.xml" target="_blank">网站地图</a> <span class="split"></span> 共收录 <span style="font-size: 16px; color:#74b147;">581</span> 条Linux系统命令</div><div class="desc box">在Linux命令大全（man.linuxde.net）可以查询您所需要的Linux命令教程和相关实例。如果您觉得本站内容对您有所帮助，请推荐给更多需要帮助的人。</div></div></div><div style="display:none"><script src="//s19.cnzz.com/z_stat.php?id=1271307540&web_id=1271307540" language="JavaScript"></script></div> <script type="text/javascript" defer src="http://man.linuxde.net/wp-content/cache/autoptimize/js/autoptimize_96b44e459fbb4c457ed87560f682062c.js"></script></body></html>package main

import (
	"bufio"
	"fmt"
	"io"
	"os"
	"unicode"
	"unicode/utf8"
)

func main() {
	counts := make(map[rune]int)
	var utflen [utf8.UTFMax + 1]int
	invalid := 0

	in := bufio.NewReader(os.Stdin)
	for {
		r, n, err := in.ReadRune()
		if err == io.EOF {
			break
		}
		if err != nil {
			fmt.Fprintf(os.Stderr, "charcount: %v\n", err)
			os.Exit(1)
		}
		vaildRune := unicode.IsLetter(r)
		if !vaildRune {
			invalid++
			continue
		}
		counts[r]++
		utflen[n]++
	}
	fmt.Printf("rune\tcount\n")
	for c, n := range counts {
		fmt.Printf("%q\t%d\n", c, n)
	}
	fmt.Print("\nlen\tcount\n")
	for i, n := range utflen {
		if i > 0 {
			fmt.Printf("%d\t%d\n", i, n)
		}
	}
	if invalid > 0 {
		fmt.Printf("\n%d invalid UTF-8 characters\n", invalid)
	}
}
